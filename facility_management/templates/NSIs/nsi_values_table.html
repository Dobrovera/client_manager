{% extends 'navbar.html' %}

{% block content %}
<body class="bg-light">
{% with messages = get_flashed_messages(with_categories=true) %}
         {% if messages %}
            <ul class="flashes container">
            {% for category, message in messages %}
                <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close border-right" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
            </ul>
        {% endif %}
{% endwith %}
  <div class="container wrapper flex-grow-1">
      <h1 class="my-4">Справочник "{{ name }}"</h1>
        <table class="table table-striped">
          <thead class="thead-dark">
            <tr>
              <th scope="col">Название</th>
            </tr>
          </thead>
          <tbody>
            {% for ns in nsi %}
            <tr>
              <td>{{ ns.name }}
              <td>
                <a href="/nsi/{{ ref }}/update/{{ ns.id }}" class="btn btn-outline-warning">Изменить</a>
                <a href="/nsi/{{ ref }}/delete/{{ ns.id }}" class="btn btn-outline-danger">Удалить</a>
              </td>
            </tr>
          {% endfor %}
          </tbody>
        </table>
      <a href="/nsi/{{ ref }}/add" class="btn btn-outline-success">Добавить</a>
</body>
{% endblock %}